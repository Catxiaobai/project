#encoding:UTF-8

def is_feasible(currpath):
    conflictTran = {}
    #conflictTran["T5"] = ["T11", "T16", "T20", "T22"]
    #conflictTran["T6"] = ["T12", "T15", "T19", "T21"]
    tempPath = currpath[:]
    while tempPath:
        firstTran = tempPath[0]
        restTranList = tempPath[1:]
        if firstTran in conflictTran.keys():
            for tran in restTranList:
                if tran in conflictTran[firstTran]:
                    return False
        tempPath = restTranList
    return True

def is_feasible_list(pop):
    list=[]
    for i in range(len(pop)):
        list.append(is_feasible(pop[i]))
    return list

def del_infeasible_after_mutant(pop):
    newpop=[]
    for i in range(len(pop)):
        if is_feasible(pop[i]) == True:
            newpop.append(pop[i])
    return newpop


if __name__ == '__main__':  # not execute when import as a module
    test=['T1', 'T2', 'T4', 'T6', 'T8', 'T18', 'T22', 'T10', 'T8', 'T20', 'T22', 'T10', 'T7', 'T12', 'T16', 'T11',
              'T16', 'T13', 'T16', 'T14', 'T16', 'T9', 'T8', 'T18', 'T22', 'T20', 'T22', 'T10', 'T7', 'T13', 'T16',
              'T9', 'T8', 'T10', 'T7', 'T9', 'T8', 'T20', 'T22', 'T10', 'T7', 'T11', 'T16', 'T13', 'T16', 'T14', 'T16',
              'T9', 'T23']
    mutantpop= [['T1', 'T2', 'T4', 'T6', 'T23'],
             ['T1', 'T2', 'T4', 'T6', 'T8', 'T18', 'T22', 'T10', 'T8', 'T20', 'T22', 'T10', 'T7', 'T12', 'T16', 'T11',
              'T16', 'T13', 'T16', 'T14', 'T16', 'T9', 'T8', 'T18', 'T22', 'T20', 'T22', 'T10', 'T7', 'T13', 'T16',
              'T9', 'T8', 'T10', 'T7', 'T9', 'T8', 'T20', 'T22', 'T10', 'T7', 'T11', 'T16', 'T13', 'T16', 'T14', 'T16',
              'T9', 'T23'],
             ['T1', 'T2', 'T4', 'T6', 'T8', 'T18', 'T22', 'T20', 'T22', 'T10', 'T7', 'T13', 'T16', 'T9', 'T8', 'T10',
              'T7', 'T9', 'T8', 'T20', 'T22', 'T10', 'T7', 'T11', 'T16', 'T13', 'T16', 'T14', 'T16', 'T9', 'T23'],
             ['T1', 'T2', 'T4', 'T6', 'T8', 'T18', 'T22', 'T10', 'T8', 'T20', 'T22', 'T10', 'T7', 'T11', 'T16', 'T11',
              'T16', 'T13', 'T16', 'T14', 'T16', 'T9', 'T23'],
             ['T1', 'T2', 'T4', 'T6', 'T8', 'T18', 'T22', 'T20', 'T22', 'T10', 'T7', 'T11', 'T16', 'T11', 'T16', 'T13',
              'T16', 'T11', 'T16', 'T13', 'T16', 'T14', 'T16', 'T9', 'T23'],
             ['T1', 'T2', 'T4', 'T6', 'T8', 'T18', 'T22', 'T10', 'T8', 'T20', 'T22', 'T10', 'T7', 'T13', 'T16', 'T9',
              'T8', 'T10', 'T7', 'T9', 'T8', 'T20', 'T22', 'T10', 'T7', 'T11', 'T16', 'T12', 'T16', 'T14', 'T16', 'T9',
              'T23'],
             ['T1', 'T2', 'T4', 'T6', 'T8', 'T18', 'T22', 'T10', 'T8', 'T20', 'T22', 'T10', 'T8', 'T18', 'T22', 'T10',
              'T8', 'T20', 'T22', 'T10', 'T7', 'T11', 'T16', 'T11', 'T16', 'T13', 'T16', 'T14', 'T16', 'T11', 'T16',
              'T11', 'T16', 'T13', 'T16', 'T14', 'T16', 'T9', 'T23'],
             ['T1', 'T2', 'T4', 'T6', 'T7', 'T11', 'T16', 'T11', 'T16', 'T13', 'T16', 'T14', 'T16', 'T13', 'T16', 'T9',
              'T8', 'T10', 'T7', 'T9', 'T8', 'T20', 'T22', 'T10', 'T7', 'T11', 'T16', 'T14', 'T16', 'T14', 'T16', 'T9',
              'T23'],
             ['T1', 'T2', 'T4', 'T6', 'T8', 'T18', 'T22', 'T10', 'T8', 'T17', 'T22', 'T18', 'T22', 'T18', 'T22', 'T10',
              'T23'],
             ['T1', 'T2', 'T4', 'T6', 'T8', 'T18', 'T22', 'T18', 'T22', 'T10', 'T8', 'T20', 'T22', 'T10', 'T7', 'T14',
              'T16', 'T9', 'T23'],
             ['T1', 'T2', 'T4', 'T6', 'T8', 'T18', 'T22', 'T10', 'T8', 'T20', 'T22', 'T10', 'T8', 'T18', 'T22', 'T18',
              'T22', 'T20', 'T22', 'T10', 'T7', 'T13', 'T16', 'T11', 'T16', 'T13', 'T16', 'T14', 'T16', 'T9', 'T23'],
             ['T1', 'T2', 'T4', 'T6', 'T7', 'T11', 'T16', 'T11', 'T16', 'T13', 'T16', 'T14', 'T16', 'T9', 'T23'],
             ['T1', 'T2', 'T4', 'T6', 'T8', 'T18', 'T22', 'T10', 'T8', 'T20', 'T22', 'T10', 'T7', 'T13', 'T16', 'T9',
              'T8', 'T10', 'T7', 'T9', 'T8', 'T20', 'T22', 'T10', 'T7', 'T11', 'T16', 'T12', 'T16', 'T14', 'T16', 'T9',
              'T23'],
             ['T1', 'T2', 'T4', 'T6', 'T8', 'T18', 'T22', 'T20', 'T22', 'T10', 'T7', 'T13', 'T16', 'T11', 'T16', 'T13',
              'T16', 'T14', 'T16', 'T9', 'T23'],
             ['T1', 'T2', 'T4', 'T6', 'T8', 'T18', 'T22', 'T18', 'T22', 'T10', 'T8', 'T20', 'T22', 'T10', 'T7', 'T11',
              'T16', 'T11', 'T16', 'T13', 'T16', 'T14', 'T16', 'T9', 'T23'],
             ['T1', 'T2', 'T4', 'T6', 'T8', 'T18', 'T22', 'T18', 'T22', 'T20', 'T22', 'T10', 'T7', 'T13', 'T16', 'T11',
              'T16', 'T13', 'T16', 'T14', 'T16', 'T9', 'T23'],
             ['T1', 'T2', 'T4', 'T6', 'T8', 'T18', 'T22', 'T20', 'T22', 'T10', 'T7', 'T11', 'T16', 'T11', 'T16', 'T13',
              'T16', 'T13', 'T16', 'T9', 'T23'],
             ['T1', 'T2', 'T4', 'T6', 'T8', 'T18', 'T22', 'T18', 'T22', 'T10', 'T8', 'T20', 'T22', 'T10', 'T7', 'T11',
              'T16', 'T11', 'T16', 'T13', 'T16', 'T14', 'T16', 'T9', 'T23'],
             ['T1', 'T2', 'T4', 'T6', 'T8', 'T18', 'T22', 'T10', 'T8', 'T20', 'T22', 'T10', 'T7', 'T11', 'T16', 'T11',
              'T16', 'T13', 'T16', 'T14', 'T16', 'T9', 'T23'],
             ['T1', 'T2', 'T4', 'T6', 'T8', 'T18', 'T22', 'T10', 'T8', 'T20', 'T22', 'T10', 'T7', 'T13', 'T16', 'T11',
              'T16', 'T13', 'T16', 'T14', 'T16', 'T9', 'T23']]
    print is_feasible(test)
    #new=del_infeasible_after_mutant(mutanted)
    #print new
    print is_feasible_list(mutantpop)

